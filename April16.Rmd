---
title: "R Notebook"
output: html_notebook
---

```{r}
library(tidyverse)
kauffman.ds <- read_csv("Main Street Entrepreneurship.csv")

pcgdp.ds <- read_csv("gmpPCGDP.csv")
```
```{r}
library(skimr)

survive.df <- kauffman.ds %>% 
  select(Location, 'Index Year', Location_name, Survival_Rate) %>% 
  rename(Year = 'Index Year')

skim(survive.df)
```

```{r}
survive.df %>% 
  mutate(IsMissing = if_else(is.na(Survival_Rate), 1, 0)) %>% 
  group_by(Year, IsMissing) %>% 
  summarize(n = n())
```

```{r}
survive.df <- survive.df %>% 
  filter(!is.na(Survival_Rate)) %>% 
  arrange(Location_name, Year)
head(survive.df, 10)
```

```{r}
skim(pcgdp.ds)
```

```{r}
pcgdp.df <- pcgdp.ds %>% 
  filter(!is.na(GeoName))
```
```{r}
pcgdp.df <- pcgdp.df %>% 
  select(GeoFIPS, GeoName, `2001`:`2016`)
skim(pcgdp.df)
```
```{r}
pcgdp.df <- pcgdp.df %>% 
  gather(Year, GDP_PC, `2001`:`2016`) %>% 
  arrange(GeoFIPS, Year)
head(pcgdp.df, 10)
```

```{r}
pcgdp.df <- pcgdp.df %>% 
  filter(GeoFIPS != "00998")
head(pcgdp.df, 10)
```

```{r}
library(stringr)

pcgdp.df <- pcgdp.df %>% 
  mutate(GeoName = str_remove(GeoName, ",.*"))
head(pcgdp.df, 10)
```

